(self.webpackChunkflip_react=self.webpackChunkflip_react||[]).push([[474],{1719:function(t,e,i){var n=i(1588).default,r=i(3808).default,o=i(4704).default,a=i(1655).default,s=i(6389).default,h=i(6690).default,l=i(9728).default;!function(t){"use strict";var e=function(){function t(e,i){h(this,t),this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=i,this.nowDrawingDensity=this.createdDensity,this.render=e}return l(t,[{key:"setDensity",value:function(t){this.createdDensity=t,this.nowDrawingDensity=t}},{key:"setDrawingDensity",value:function(t){this.nowDrawingDensity=t}},{key:"setPosition",value:function(t){this.state.position=t}},{key:"setAngle",value:function(t){this.state.angle=t}},{key:"setArea",value:function(t){this.state.area=t}},{key:"setHardDrawingAngle",value:function(t){this.state.hardDrawingAngle=t}},{key:"setHardAngle",value:function(t){this.state.hardAngle=t,this.state.hardDrawingAngle=t}},{key:"setOrientation",value:function(t){this.orientation=t}},{key:"getDrawingDensity",value:function(){return this.nowDrawingDensity}},{key:"getDensity",value:function(){return this.createdDensity}},{key:"getHardAngle",value:function(){return this.state.hardAngle}}]),t}(),i=function(t){a(i,t);var e=s(i);function i(t,n,r){var o;return h(this,i),(o=e.call(this,t,r)).image=null,o.isLoad=!1,o.loadingAngle=0,o.image=new Image,o.image.src=n,o}return l(i,[{key:"draw",value:function(t){var e=this.render.getContext(),i=this.render.convertToGlobal(this.state.position),n=this.render.getRect().pageWidth,r=this.render.getRect().height;e.save(),e.translate(i.x,i.y),e.beginPath();var a,s=o(this.state.area);try{for(s.s();!(a=s.n()).done;){var h=a.value;null!==h&&(h=this.render.convertToGlobal(h),e.lineTo(h.x-i.x,h.y-i.y))}}catch(l){s.e(l)}finally{s.f()}e.rotate(this.state.angle),e.clip(),this.isLoad?e.drawImage(this.image,0,0,n,r):this.drawLoader(e,{x:0,y:0},n,r),e.restore()}},{key:"simpleDraw",value:function(t){var e=this.render.getRect(),i=this.render.getContext(),n=e.pageWidth,r=e.height,o=1===t?e.left+e.pageWidth:e.left,a=e.top;this.isLoad?i.drawImage(this.image,o,a,n,r):this.drawLoader(i,{x:o,y:a},n,r)}},{key:"drawLoader",value:function(t,e,i,n){t.beginPath(),t.strokeStyle="rgb(200, 200, 200)",t.fillStyle="rgb(255, 255, 255)",t.lineWidth=1,t.rect(e.x+1,e.y+1,i-1,n-1),t.stroke(),t.fill();var r={x:e.x+i/2,y:e.y+n/2};t.beginPath(),t.lineWidth=10,t.arc(r.x,r.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),t.stroke(),t.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}},{key:"load",value:function(){var t=this;this.isLoad||(this.image.onload=function(){t.isLoad=!0})}},{key:"newTemporaryCopy",value:function(){return this}},{key:"getTemporaryCopy",value:function(){return this}},{key:"hideTemporaryCopy",value:function(){}}]),i}(e),u=function(){function t(e,i){h(this,t),this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=i,this.app=e,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}return l(t,[{key:"destroy",value:function(){this.pages=[]}},{key:"createSpread",value:function(){this.landscapeSpread=[],this.portraitSpread=[];for(var t=0;t<this.pages.length;t++)this.portraitSpread.push([t]);var e=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([e]),e++);for(var i=e;i<this.pages.length;i+=2)i<this.pages.length-1?this.landscapeSpread.push([i,i+1]):(this.landscapeSpread.push([i]),this.pages[i].setDensity("hard"))}},{key:"getSpread",value:function(){return"landscape"===this.render.getOrientation()?this.landscapeSpread:this.portraitSpread}},{key:"getSpreadIndexByPage",value:function(t){for(var e=this.getSpread(),i=0;i<e.length;i++)if(t===e[i][0]||t===e[i][1])return i;return null}},{key:"getPageCount",value:function(){return this.pages.length}},{key:"getPages",value:function(){return this.pages}},{key:"getPage",value:function(t){if(t>=0&&t<this.pages.length)return this.pages[t];throw new Error("Invalid page number")}},{key:"nextBy",value:function(t){var e=this.pages.indexOf(t);return e<this.pages.length-1?this.pages[e+1]:null}},{key:"prevBy",value:function(t){var e=this.pages.indexOf(t);return e>0?this.pages[e-1]:null}},{key:"getFlippingPage",value:function(t){var e=this.currentSpreadIndex;if("portrait"===this.render.getOrientation())return 0===t?this.pages[e].newTemporaryCopy():this.pages[e-1];var i=0===t?this.getSpread()[e+1]:this.getSpread()[e-1];return 1===i.length||0===t?this.pages[i[0]]:this.pages[i[1]]}},{key:"getBottomPage",value:function(t){var e=this.currentSpreadIndex;if("portrait"===this.render.getOrientation())return 0===t?this.pages[e+1]:this.pages[e-1];var i=0===t?this.getSpread()[e+1]:this.getSpread()[e-1];return 1===i.length?this.pages[i[0]]:0===t?this.pages[i[1]]:this.pages[i[0]]}},{key:"showNext",value:function(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}},{key:"showPrev",value:function(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}},{key:"getCurrentPageIndex",value:function(){return this.currentPageIndex}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===t&&(t=this.currentPageIndex),!(t<0||t>=this.pages.length)){var e=this.getSpreadIndexByPage(t);null!==e&&(this.currentSpreadIndex=e,this.showSpread())}}},{key:"getCurrentSpreadIndex",value:function(){return this.currentSpreadIndex}},{key:"setCurrentSpreadIndex",value:function(t){if(!(t>=0&&t<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=t}},{key:"showSpread",value:function(){var t=this.getSpread()[this.currentSpreadIndex];2===t.length?(this.render.setLeftPage(this.pages[t[0]]),this.render.setRightPage(this.pages[t[1]])):"landscape"===this.render.getOrientation()&&t[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[t[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[t[0]])),this.currentPageIndex=t[0],this.app.updatePageIndex(this.currentPageIndex)}}]),t}(),c=function(t){a(n,t);var e=s(n);function n(t,i,r){var o;return h(this,n),(o=e.call(this,t,i)).imagesHref=r,o}return l(n,[{key:"load",value:function(){var t,e=o(this.imagesHref);try{for(e.s();!(t=e.n()).done;){var n=t.value,r=new i(this.render,n,"soft");r.load(),this.pages.push(r)}}catch(a){e.e(a)}finally{e.f()}this.createSpread()}}]),n}(u),d=function(){function t(){h(this,t)}return l(t,null,[{key:"GetDistanceBetweenTwoPoint",value:function(t,e){return null===t||null===e?1/0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"GetSegmentLength",value:function(e){return t.GetDistanceBetweenTwoPoint(e[0],e[1])}},{key:"GetAngleBetweenTwoLine",value:function(t,e){var i=t[0].y-t[1].y,n=e[0].y-e[1].y,r=t[1].x-t[0].x,o=e[1].x-e[0].x;return Math.acos((i*n+r*o)/(Math.sqrt(i*i+r*r)*Math.sqrt(n*n+o*o)))}},{key:"PointInRect",value:function(t,e){return null===e?null:e.x>=t.left&&e.x<=t.width+t.left&&e.y>=t.top&&e.y<=t.top+t.height?e:null}},{key:"GetRotatedPoint",value:function(t,e,i){return{x:t.x*Math.cos(i)+t.y*Math.sin(i)+e.x,y:t.y*Math.cos(i)-t.x*Math.sin(i)+e.y}}},{key:"LimitPointToCircle",value:function(e,i,n){if(t.GetDistanceBetweenTwoPoint(e,n)<=i)return n;var r=e.x,o=e.y,a=n.x,s=n.y,h=Math.sqrt(Math.pow(i,2)*Math.pow(r-a,2)/(Math.pow(r-a,2)+Math.pow(o-s,2)))+r;n.x<0&&(h*=-1);var l=(h-r)*(o-s)/(r-a)+o;return r-a+o===0&&(l=i),{x:h,y:l}}},{key:"GetIntersectBetweenTwoSegment",value:function(e,i,n){return t.PointInRect(e,t.GetIntersectBeetwenTwoLine(i,n))}},{key:"GetIntersectBeetwenTwoLine",value:function(t,e){var i=t[0].y-t[1].y,n=e[0].y-e[1].y,r=t[1].x-t[0].x,o=e[1].x-e[0].x,a=t[0].x*t[1].y-t[1].x*t[0].y,s=e[0].x*e[1].y-e[1].x*e[0].y,h=i*s-n*a,l=r*s-o*a,u=-(a*o-s*r)/(i*o-n*r),c=-(i*s-n*a)/(i*o-n*r);if(isFinite(u)&&isFinite(c))return{x:u,y:c};if(Math.abs(h-l)<.1)throw new Error("Segment included");return null}},{key:"GetCordsFromTwoPoint",value:function(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y),r=Math.max(i,n),o=[t];function a(t,e,i,n,r){return e>t?t+r*(i/n):e<t?t-r*(i/n):t}for(var s=1;s<=r;s+=1)o.push({x:a(t.x,e.x,i,r,s),y:a(t.y,e.y,n,r,s)});return o}}]),t}(),p=function(t){a(i,t);var e=s(i);function i(t,n,r){var o;return h(this,i),(o=e.call(this,t,r)).copiedElement=null,o.temporaryCopy=null,o.isLoad=!1,o.element=n,o.element.classList.add("stf__item"),o.element.classList.add("--"+r),o}return l(i,[{key:"newTemporaryCopy",value:function(){return"hard"===this.nowDrawingDensity?this:(null===this.temporaryCopy&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new i(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}},{key:"getTemporaryCopy",value:function(){return this.temporaryCopy}},{key:"hideTemporaryCopy",value:function(){null!==this.temporaryCopy&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}},{key:"draw",value:function(t){var e=t||this.nowDrawingDensity,i=this.render.convertToGlobal(this.state.position),n=this.render.getRect().pageWidth,r=this.render.getRect().height;this.element.classList.remove("--simple");var o="\n            display: block;\n            z-index: ".concat(this.element.style.zIndex,";\n            left: 0;\n            top: 0;\n            width: ").concat(n,"px;\n            height: ").concat(r,"px;\n        ");"hard"===e?this.drawHard(o):this.drawSoft(i,o)}},{key:"drawHard",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.render.getRect().left+this.render.getRect().width/2,i=this.state.hardDrawingAngle,n=t+"\n                backface-visibility: hidden;\n                -webkit-backface-visibility: hidden;\n                clip-path: none;\n                -webkit-clip-path: none;\n            "+(0===this.orientation?"transform-origin: ".concat(this.render.getRect().pageWidth,"px 0; \n                   transform: translate3d(0, 0, 0) rotateY(").concat(i,"deg);"):"transform-origin: 0 0; \n                   transform: translate3d(".concat(e,"px, 0, 0) rotateY(").concat(i,"deg);"));this.element.style.cssText=n}},{key:"drawSoft",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="polygon( ",r=o(this.state.area);try{for(r.s();!(e=r.n()).done;){var a=e.value;if(null!==a){var s=1===this.render.getDirection()?{x:-a.x+this.state.position.x,y:a.y-this.state.position.y}:{x:a.x-this.state.position.x,y:a.y-this.state.position.y};n+=(s=d.GetRotatedPoint(s,{x:0,y:0},this.state.angle)).x+"px "+s.y+"px, "}}}catch(l){r.e(l)}finally{r.f()}n=n.slice(0,-2);var h=i+"transform-origin: 0 0; clip-path: ".concat(n+=")","; -webkit-clip-path: ").concat(n,";")+(this.render.isSafari()&&0===this.state.angle?"transform: translate(".concat(t.x,"px, ").concat(t.y,"px);"):"transform: translate3d(".concat(t.x,"px, ").concat(t.y,"px, 0) rotate(").concat(this.state.angle,"rad);"));this.element.style.cssText=h}},{key:"simpleDraw",value:function(t){var e=this.render.getRect(),i=e.pageWidth,n=e.height,r=1===t?e.left+e.pageWidth:e.left,o=e.top;this.element.classList.add("--simple"),this.element.style.cssText="\n            position: absolute; \n            display: block; \n            height: ".concat(n,"px; \n            left: ").concat(r,"px; \n            top: ").concat(o,"px; \n            width: ").concat(i,"px; \n            z-index: ").concat(this.render.getSettings().startZIndex+1,";")}},{key:"getElement",value:function(){return this.element}},{key:"load",value:function(){this.isLoad=!0}},{key:"setOrientation",value:function(t){n(r(i.prototype),"setOrientation",this).call(this,t),this.element.classList.remove("--left","--right"),this.element.classList.add(1===t?"--right":"--left")}},{key:"setDrawingDensity",value:function(t){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+t),n(r(i.prototype),"setDrawingDensity",this).call(this,t)}}]),i}(e),g=function(t){a(i,t);var e=s(i);function i(t,n,r,o){var a;return h(this,i),(a=e.call(this,t,n)).element=r,a.pagesElement=o,a}return l(i,[{key:"load",value:function(){var t,e=o(this.pagesElement);try{for(e.s();!(t=e.n()).done;){var i=t.value,n=new p(this.render,i,"hard"===i.dataset.density?"hard":"soft");n.load(),this.pages.push(n)}}catch(r){e.e(r)}finally{e.f()}this.createSpread()}}]),i}(u),f=function(){function t(e,i,n,r){h(this,t),this.direction=e,this.corner=i,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(n,10),this.pageHeight=parseInt(r,10)}return l(t,[{key:"calc",value:function(t){try{return this.position=this.calcAngleAndPosition(t),this.calculateIntersectPoint(this.position),!0}catch(t){return!1}}},{key:"getFlippingClipArea",value:function(){var t=[],e=!1;return t.push(this.rect.topLeft),t.push(this.topIntersectPoint),null===this.sideIntersectPoint?e=!0:(t.push(this.sideIntersectPoint),null===this.bottomIntersectPoint&&(e=!1)),t.push(this.bottomIntersectPoint),(e||"bottom"===this.corner)&&t.push(this.rect.bottomLeft),t}},{key:"getBottomClipArea",value:function(){var t=[];return t.push(this.topIntersectPoint),"top"===this.corner?t.push({x:this.pageWidth,y:0}):(null!==this.topIntersectPoint&&t.push({x:this.pageWidth,y:0}),t.push({x:this.pageWidth,y:this.pageHeight})),null!==this.sideIntersectPoint?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&t.push(this.sideIntersectPoint):"top"===this.corner&&t.push({x:this.pageWidth,y:this.pageHeight}),t.push(this.bottomIntersectPoint),t.push(this.topIntersectPoint),t}},{key:"getAngle",value:function(){return 0===this.direction?-this.angle:this.angle}},{key:"getRect",value:function(){return this.rect}},{key:"getPosition",value:function(){return this.position}},{key:"getActiveCorner",value:function(){return 0===this.direction?this.rect.topLeft:this.rect.topRight}},{key:"getDirection",value:function(){return this.direction}},{key:"getFlippingProgress",value:function(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}},{key:"getCorner",value:function(){return this.corner}},{key:"getBottomPagePosition",value:function(){return 1===this.direction?{x:this.pageWidth,y:0}:{x:0,y:0}}},{key:"getShadowStartPoint",value:function(){return"top"===this.corner?this.topIntersectPoint:null!==this.sideIntersectPoint?this.sideIntersectPoint:this.topIntersectPoint}},{key:"getShadowAngle",value:function(){var t=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return 0===this.direction?t:Math.PI-t}},{key:"calcAngleAndPosition",value:function(t){var e=t;if(this.updateAngleAndGeometry(e),e="top"===this.corner?this.checkPositionAtCenterLine(e,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(e,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(e.x-this.pageWidth)<1&&Math.abs(e.y)<1)throw new Error("Point is too small");return e}},{key:"updateAngleAndGeometry",value:function(t){this.angle=this.calculateAngle(t),this.rect=this.getPageRect(t)}},{key:"calculateAngle",value:function(t){var e=this.pageWidth-t.x+1,i="bottom"===this.corner?this.pageHeight-t.y:t.y,n=2*Math.acos(e/Math.sqrt(i*i+e*e));i<0&&(n=-n);var r=Math.PI-n;if(!isFinite(n)||r>=0&&r<.003)throw new Error("The G point is too small");return"bottom"===this.corner&&(n=-n),n}},{key:"getPageRect",value:function(t){return"top"===this.corner?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],t):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],t)}},{key:"getRectFromBasePoint",value:function(t,e){return{topLeft:this.getRotatedPoint(t[0],e),topRight:this.getRotatedPoint(t[1],e),bottomLeft:this.getRotatedPoint(t[2],e),bottomRight:this.getRotatedPoint(t[3],e)}}},{key:"getRotatedPoint",value:function(t,e){return{x:t.x*Math.cos(this.angle)+t.y*Math.sin(this.angle)+e.x,y:t.y*Math.cos(this.angle)-t.x*Math.sin(this.angle)+e.y}}},{key:"calculateIntersectPoint",value:function(t){var e={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};"top"===this.corner?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(e,[t,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(e,[t,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(e,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(e,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(e,[t,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(e,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}},{key:"checkPositionAtCenterLine",value:function(t,e,i){var n=t,r=d.LimitPointToCircle(e,this.pageWidth,n);n!==r&&(n=r,this.updateAngleAndGeometry(n));var o=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2)),a=this.rect.bottomRight,s=this.rect.topLeft;if("bottom"===this.corner&&(a=this.rect.topRight,s=this.rect.bottomLeft),a.x<=0){var h=d.LimitPointToCircle(i,o,s);h!==n&&(n=h,this.updateAngleAndGeometry(n))}return n}},{key:"getSegmentToShadowLine",value:function(){var t=this.getShadowStartPoint();return[t,t!==this.sideIntersectPoint&&null!==this.sideIntersectPoint?this.sideIntersectPoint:this.bottomIntersectPoint]}}]),t}(),w=function(){function t(e,i){h(this,t),this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=e,this.app=i}return l(t,[{key:"fold",value:function(t){this.setState("user_fold"),null===this.calc&&this.start(t),this.do(this.render.convertToPage(t))}},{key:"flip",value:function(t){if((!this.app.getSettings().disableFlipByClick||this.isPointOnCorners(t))&&(null!==this.calc&&this.render.finishAnimation(),this.start(t))){var e=this.getBoundsRect();this.setState("flipping");var i=e.height/10,n="bottom"===this.calc.getCorner()?e.height-i:i,r="bottom"===this.calc.getCorner()?e.height:0;this.calc.calc({x:e.pageWidth-i,y:n}),this.animateFlippingTo({x:e.pageWidth-i,y:n},{x:-e.pageWidth,y:r},!0)}}},{key:"start",value:function(t){this.reset();var e=this.render.convertToBook(t),i=this.getBoundsRect(),n=this.getDirectionByPoint(e),r=e.y>=i.height/2?"bottom":"top";if(!this.checkDirection(n))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(n),this.bottomPage=this.app.getPageCollection().getBottomPage(n),"landscape"===this.render.getOrientation())if(1===n){var o=this.app.getPageCollection().nextBy(this.flippingPage);null!==o&&this.flippingPage.getDensity()!==o.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),o.setDrawingDensity("hard"))}else{var a=this.app.getPageCollection().prevBy(this.flippingPage);null!==a&&this.flippingPage.getDensity()!==a.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),a.setDrawingDensity("hard"))}return this.render.setDirection(n),this.calc=new f(n,r,i.pageWidth.toString(10),i.height.toString(10)),!0}catch(t){return!1}}},{key:"do",value:function(t){if(null!==this.calc&&this.calc.calc(t)){var e=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),0===this.calc.getDirection()?this.flippingPage.setHardAngle(90*(200-2*e)/100):this.flippingPage.setHardAngle(-90*(200-2*e)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),e,this.calc.getDirection())}}},{key:"flipToPage",value:function(t,e){var i=this.app.getPageCollection().getCurrentSpreadIndex(),n=this.app.getPageCollection().getSpreadIndexByPage(t);try{n>i&&(this.app.getPageCollection().setCurrentSpreadIndex(n-1),this.flipNext(e)),n<i&&(this.app.getPageCollection().setCurrentSpreadIndex(n+1),this.flipPrev(e))}catch(t){}}},{key:"flipNext",value:function(t){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:"top"===t?1:this.render.getRect().height-2})}},{key:"flipPrev",value:function(t){this.flip({x:10,y:"top"===t?1:this.render.getRect().height-2})}},{key:"stopMove",value:function(){if(null!==this.calc){var t=this.calc.getPosition(),e=this.getBoundsRect(),i="bottom"===this.calc.getCorner()?e.height:0;t.x<=0?this.animateFlippingTo(t,{x:-e.pageWidth,y:i},!0):this.animateFlippingTo(t,{x:e.pageWidth,y:i},!1)}}},{key:"showCorner",value:function(t){if(this.checkState("read","fold_corner")){var e=this.getBoundsRect(),i=e.pageWidth;if(this.isPointOnCorners(t))if(null===this.calc){if(!this.start(t))return;this.setState("fold_corner"),this.calc.calc({x:i-1,y:1});var n=50,r="bottom"===this.calc.getCorner()?e.height-1:1,o="bottom"===this.calc.getCorner()?e.height-n:n;this.animateFlippingTo({x:i-1,y:r},{x:i-n,y:o},!1,!1)}else this.do(this.render.convertToPage(t));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}}},{key:"animateFlippingTo",value:function(t,e,i){var n,r=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=d.GetCordsFromTwoPoint(t,e),h=[],l=o(s);try{var u=function(){var t=n.value;h.push((function(){return r.do(t)}))};for(l.s();!(n=l.n()).done;)u()}catch(p){l.e(p)}finally{l.f()}var c=this.getAnimationDuration(s.length);this.render.startAnimation(h,c,(function(){r.calc&&(i&&(1===r.calc.getDirection()?r.app.turnToPrevPage():r.app.turnToNextPage()),a&&(r.render.setBottomPage(null),r.render.setFlippingPage(null),r.render.clearShadow(),r.setState("read"),r.reset()))}))}},{key:"getCalculation",value:function(){return this.calc}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(t){this.state!==t&&(this.app.updateState(t),this.state=t)}},{key:"getDirectionByPoint",value:function(t){var e=this.getBoundsRect();if("portrait"===this.render.getOrientation()){if(t.x-e.pageWidth<=e.width/5)return 1}else if(t.x<e.width/2)return 1;return 0}},{key:"getAnimationDuration",value:function(t){var e=this.app.getSettings().flippingTime;return t>=1e3?e:t/1e3*e}},{key:"checkDirection",value:function(t){return 0===t?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}},{key:"reset",value:function(){this.calc=null,this.flippingPage=null,this.bottomPage=null}},{key:"getBoundsRect",value:function(){return this.render.getRect()}},{key:"checkState",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n=0,r=e;n<r.length;n++){var o=r[n];if(this.state===o)return!0}return!1}},{key:"isPointOnCorners",value:function(t){var e=this.getBoundsRect(),i=e.pageWidth,n=Math.sqrt(Math.pow(i,2)+Math.pow(e.height,2))/5,r=this.render.convertToBook(t);return r.x>0&&r.y>0&&r.x<e.width&&r.y<e.height&&(r.x<n||r.x>e.width-n)&&(r.y<n||r.y>e.height-n)}}]),t}(),v=function(){function t(e,i){h(this,t),this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=i,this.app=e;var n=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=null!==n.exec(window.navigator.userAgent)}return l(t,[{key:"render",value:function(t){if(null!==this.animation){var e=Math.round((t-this.animation.startedAt)/this.animation.durationFrame);e<this.animation.frames.length?this.animation.frames[e]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=t,this.drawFrame()}},{key:"start",value:function(){var t=this;this.update();var e=function e(i){t.render(i),requestAnimationFrame(e)};requestAnimationFrame(e)}},{key:"startAnimation",value:function(t,e,i){this.finishAnimation(),this.animation={frames:t,duration:e,durationFrame:e/t.length,onAnimateEnd:i,startedAt:this.timer}}},{key:"finishAnimation",value:function(){null!==this.animation&&(this.animation.frames[this.animation.frames.length-1](),null!==this.animation.onAnimateEnd&&this.animation.onAnimateEnd()),this.animation=null}},{key:"update",value:function(){this.boundsRect=null;var t=this.calculateBoundsRect();this.orientation!==t&&(this.orientation=t,this.app.updateOrientation(t))}},{key:"calculateBoundsRect",value:function(){var t="landscape",e=this.getBlockWidth(),i=e/2,n=this.getBlockHeight()/2,r=this.setting.width/this.setting.height,o=this.setting.width,a=this.setting.height,s=i-o;return"stretch"===this.setting.size?(e<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(t="portrait"),(o="portrait"===t?this.getBlockWidth():this.getBlockWidth()/2)>this.setting.maxWidth&&(o=this.setting.maxWidth),(a=o/r)>this.getBlockHeight()&&(o=(a=this.getBlockHeight())*r),s="portrait"===t?i-o/2-o:i-o):e<2*o&&this.app.getSettings().usePortrait&&(t="portrait",s=i-o/2-o),this.boundsRect={left:s,top:n-a/2,width:2*o,height:a,pageWidth:o},t}},{key:"setShadowData",value:function(t,e,i,n){if(this.app.getSettings().drawShadow){var r=100*this.getSettings().maxShadowOpacity;this.shadow={pos:t,angle:e,width:3*this.getRect().pageWidth/4*i/100,opacity:(100-i)*r/100/100,direction:n,progress:2*i}}}},{key:"clearShadow",value:function(){this.shadow=null}},{key:"getBlockWidth",value:function(){return this.app.getUI().getDistElement().offsetWidth}},{key:"getBlockHeight",value:function(){return this.app.getUI().getDistElement().offsetHeight}},{key:"getDirection",value:function(){return this.direction}},{key:"getRect",value:function(){return null===this.boundsRect&&this.calculateBoundsRect(),this.boundsRect}},{key:"getSettings",value:function(){return this.app.getSettings()}},{key:"getOrientation",value:function(){return this.orientation}},{key:"setPageRect",value:function(t){this.pageRect=t}},{key:"setDirection",value:function(t){this.direction=t}},{key:"setRightPage",value:function(t){null!==t&&t.setOrientation(1),this.rightPage=t}},{key:"setLeftPage",value:function(t){null!==t&&t.setOrientation(0),this.leftPage=t}},{key:"setBottomPage",value:function(t){null!==t&&t.setOrientation(1===this.direction?0:1),this.bottomPage=t}},{key:"setFlippingPage",value:function(t){null!==t&&t.setOrientation(0===this.direction&&"portrait"!==this.orientation?0:1),this.flippingPage=t}},{key:"convertToBook",value:function(t){var e=this.getRect();return{x:t.x-e.left,y:t.y-e.top}}},{key:"isSafari",value:function(){return this.safari}},{key:"convertToPage",value:function(t,e){e||(e=this.direction);var i=this.getRect();return{x:0===e?t.x-i.left-i.width/2:i.width/2-t.x+i.left,y:t.y-i.top}}},{key:"convertToGlobal",value:function(t,e){if(e||(e=this.direction),null==t)return null;var i=this.getRect();return{x:0===e?t.x+i.left+i.width/2:i.width/2-t.x+i.left,y:t.y+i.top}}},{key:"convertRectToGlobal",value:function(t,e){return e||(e=this.direction),{topLeft:this.convertToGlobal(t.topLeft,e),topRight:this.convertToGlobal(t.topRight,e),bottomLeft:this.convertToGlobal(t.bottomLeft,e),bottomRight:this.convertToGlobal(t.bottomRight,e)}}}]),t}(),y=function(t){a(i,t);var e=s(i);function i(t,n,r){var o;return h(this,i),(o=e.call(this,t,n)).canvas=r,o.ctx=r.getContext("2d"),o}return l(i,[{key:"getContext",value:function(){return this.ctx}},{key:"reload",value:function(){}},{key:"drawFrame",value:function(){this.clear(),"portrait"!==this.orientation&&null!=this.leftPage&&this.leftPage.simpleDraw(0),null!=this.rightPage&&this.rightPage.simpleDraw(1),null!=this.bottomPage&&this.bottomPage.draw(),this.drawBookShadow(),null!=this.flippingPage&&this.flippingPage.draw(),null!=this.shadow&&(this.drawOuterShadow(),this.drawInnerShadow());var t=this.getRect();"portrait"===this.orientation&&(this.ctx.beginPath(),this.ctx.rect(t.left+t.pageWidth,t.top,t.width,t.height),this.ctx.clip())}},{key:"drawBookShadow",value:function(){var t=this.getRect();this.ctx.save(),this.ctx.beginPath();var e=t.width/20;this.ctx.rect(t.left,t.top,t.width,t.height);var i={x:t.left+t.width/2-e/2,y:0};this.ctx.translate(i.x,i.y);var n=this.ctx.createLinearGradient(0,0,e,0);n.addColorStop(0,"rgba(0, 0, 0, 0)"),n.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),n.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),n.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),n.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),n.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=n,this.ctx.fillRect(0,0,e,2*t.height),this.ctx.restore()}},{key:"drawOuterShadow",value:function(){var t=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t.left,t.top,t.width,t.height);var e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(e.x,e.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);var i=this.ctx.createLinearGradient(0,0,this.shadow.width,0);0===this.shadow.direction?(this.ctx.translate(0,-100),i.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),i.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),i.addColorStop(0,"rgba(0, 0, 0, 0)"),i.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.shadow.width,2*t.height),this.ctx.restore()}},{key:"drawInnerShadow",value:function(){var t=this.getRect();this.ctx.save(),this.ctx.beginPath();var e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),i=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(i.topLeft.x,i.topLeft.y),this.ctx.lineTo(i.topRight.x,i.topRight.y),this.ctx.lineTo(i.bottomRight.x,i.bottomRight.y),this.ctx.lineTo(i.bottomLeft.x,i.bottomLeft.y),this.ctx.translate(e.x,e.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);var n=3*this.shadow.width/4,r=this.ctx.createLinearGradient(0,0,n,0);0===this.shadow.direction?(this.ctx.translate(-n,-100),r.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),r.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),r.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),r.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),r.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),r.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),r.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),r.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=r,this.ctx.fillRect(0,0,n,2*t.height),this.ctx.restore()}},{key:"clear",value:function(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}]),i}(v),m=function(){function t(e,i,n){var r=this;h(this,t),this.touchPoint=null,this.swipeTimeout=250,this.onResize=function(){r.update()},this.onMouseDown=function(t){if(r.checkTarget(t.target)){var e=r.getMousePos(t.clientX,t.clientY);r.app.startUserTouch(e),t.preventDefault()}},this.onTouchStart=function(t){if(r.checkTarget(t.target)&&t.changedTouches.length>0){var e=t.changedTouches[0],i=r.getMousePos(e.clientX,e.clientY);r.touchPoint={point:i,time:Date.now()},setTimeout((function(){null!==r.touchPoint&&r.app.startUserTouch(i)}),r.swipeTimeout),r.app.getSettings().mobileScrollSupport||t.preventDefault()}},this.onMouseUp=function(t){var e=r.getMousePos(t.clientX,t.clientY);r.app.userStop(e)},this.onMouseMove=function(t){var e=r.getMousePos(t.clientX,t.clientY);r.app.userMove(e,!1)},this.onTouchMove=function(t){if(t.changedTouches.length>0){var e=t.changedTouches[0],i=r.getMousePos(e.clientX,e.clientY);r.app.getSettings().mobileScrollSupport?(null!==r.touchPoint&&(Math.abs(r.touchPoint.point.x-i.x)>10||"read"!==r.app.getState())&&t.cancelable&&r.app.userMove(i,!0),"read"!==r.app.getState()&&t.preventDefault()):r.app.userMove(i,!0)}},this.onTouchEnd=function(t){if(t.changedTouches.length>0){var e=t.changedTouches[0],i=r.getMousePos(e.clientX,e.clientY),n=!1;if(null!==r.touchPoint){var o=i.x-r.touchPoint.point.x,a=Math.abs(i.y-r.touchPoint.point.y);Math.abs(o)>r.swipeDistance&&a<2*r.swipeDistance&&Date.now()-r.touchPoint.time<r.swipeTimeout&&(o>0?r.app.flipPrev(r.touchPoint.point.y<r.app.getRender().getRect().height/2?"top":"bottom"):r.app.flipNext(r.touchPoint.point.y<r.app.getRender().getRect().height/2?"top":"bottom"),n=!0),r.touchPoint=null}r.app.userStop(i,n)}},this.parentElement=e,e.classList.add("stf__parent"),e.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=e.querySelector(".stf__wrapper"),this.app=i;var o=this.app.getSettings().usePortrait?1:2;e.style.minWidth=n.minWidth*o+"px",e.style.minHeight=n.minHeight+"px","fixed"===n.size&&(e.style.minWidth=n.width*o+"px",e.style.minHeight=n.height+"px"),n.autoSize&&(e.style.width="100%",e.style.maxWidth=2*n.maxWidth+"px"),e.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=n.swipeDistance}return l(t,[{key:"destroy",value:function(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}},{key:"getDistElement",value:function(){return this.distElement}},{key:"getWrapper",value:function(){return this.wrapper}},{key:"setOrientationStyle",value:function(t){this.wrapper.classList.remove("--portrait","--landscape"),"portrait"===t?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}},{key:"removeHandlers",value:function(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}},{key:"setHandlers",value:function(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}},{key:"getMousePos",value:function(t,e){var i=this.distElement.getBoundingClientRect();return{x:t-i.left,y:e-i.top}}},{key:"checkTarget",value:function(t){return!this.app.getSettings().clickEventForward||!["a","button"].includes(t.tagName.toLowerCase())}}]),t}(),b=function(t){a(i,t);var e=s(i);function i(t,n,r,a){var s;h(this,i),(s=e.call(this,t,n,r)).wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),s.distElement=t.querySelector(".stf__block"),s.items=a;var l,u=o(a);try{for(u.s();!(l=u.n()).done;){var c=l.value;s.distElement.appendChild(c)}}catch(d){u.e(d)}finally{u.f()}return s.setHandlers(),s}return l(i,[{key:"clear",value:function(){var t,e=o(this.items);try{for(e.s();!(t=e.n()).done;){var i=t.value;this.parentElement.appendChild(i)}}catch(n){e.e(n)}finally{e.f()}}},{key:"updateItems",value:function(t){this.removeHandlers(),this.distElement.innerHTML="";var e,i=o(t);try{for(i.s();!(e=i.n()).done;){var n=e.value;this.distElement.appendChild(n)}}catch(r){i.e(r)}finally{i.f()}this.items=t,this.setHandlers()}},{key:"update",value:function(){this.app.getRender().update()}}]),i}(m),x=function(t){a(i,t);var e=s(i);function i(t,n,r){var o;return h(this,i),(o=e.call(this,t,n,r)).wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',o.canvas=t.querySelectorAll("canvas")[0],o.distElement=o.canvas,o.resizeCanvas(),o.setHandlers(),o}return l(i,[{key:"resizeCanvas",value:function(){var t=getComputedStyle(this.canvas),e=parseInt(t.getPropertyValue("width"),10),i=parseInt(t.getPropertyValue("height"),10);this.canvas.width=e,this.canvas.height=i}},{key:"getCanvas",value:function(){return this.canvas}},{key:"update",value:function(){this.resizeCanvas(),this.app.getRender().update()}}]),i}(m),P=function(t){a(i,t);var e=s(i);function i(t,n,r){var o;return h(this,i),(o=e.call(this,t,n)).outerShadow=null,o.innerShadow=null,o.hardShadow=null,o.hardInnerShadow=null,o.element=r,o.createShadows(),o}return l(i,[{key:"createShadows",value:function(){this.element.insertAdjacentHTML("beforeend",'<div class="stf__outerShadow"></div>\n             <div class="stf__innerShadow"></div>\n             <div class="stf__hardShadow"></div>\n             <div class="stf__hardInnerShadow"></div>'),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}},{key:"clearShadow",value:function(){n(r(i.prototype),"clearShadow",this).call(this),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}},{key:"reload",value:function(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}},{key:"drawHardInnerShadow",value:function(){var t=this.getRect(),e=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress,i=(100-e)*(2.5*t.pageWidth)/100+20;i>t.pageWidth&&(i=t.pageWidth);var n="\n            display: block;\n            z-index: ".concat((this.getSettings().startZIndex+5).toString(10),";\n            width: ").concat(i,"px;\n            height: ").concat(t.height,"px;\n            background: linear-gradient(to right,\n                rgba(0, 0, 0, ").concat(this.shadow.opacity*e/100,") 5%,\n                rgba(0, 0, 0, 0) 100%);\n            left: ").concat(t.left+t.width/2,"px;\n            transform-origin: 0 0;\n        ");n+=0===this.getDirection()&&this.shadow.progress>100||1===this.getDirection()&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=n}},{key:"drawHardOuterShadow",value:function(){var t=this.getRect(),e=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*t.pageWidth)/100+20;e>t.pageWidth&&(e=t.pageWidth);var i="\n            display: block;\n            z-index: ".concat((this.getSettings().startZIndex+4).toString(10),";\n            width: ").concat(e,"px;\n            height: ").concat(t.height,"px;\n            background: linear-gradient(to left, rgba(0, 0, 0, ").concat(this.shadow.opacity,") 5%, rgba(0, 0, 0, 0) 100%);\n            left: ").concat(t.left+t.width/2,"px;\n            transform-origin: 0 0;\n        ");i+=0===this.getDirection()&&this.shadow.progress>100||1===this.getDirection()&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=i}},{key:"drawInnerShadow",value:function(){for(var t=this.getRect(),e=3*this.shadow.width/4,i=0===this.getDirection()?e:0,n=0===this.getDirection()?"to left":"to right",r=this.convertToGlobal(this.shadow.pos),o=this.shadow.angle+3*Math.PI/2,a="polygon( ",s=0,h=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];s<h.length;s++){var l=h[s],u=1===this.getDirection()?{x:-l.x+this.shadow.pos.x,y:l.y-this.shadow.pos.y}:{x:l.x-this.shadow.pos.x,y:l.y-this.shadow.pos.y};a+=(u=d.GetRotatedPoint(u,{x:i,y:100},o)).x+"px "+u.y+"px, "}a=a.slice(0,-2),a+=")";var c="\n            display: block;\n            z-index: ".concat((this.getSettings().startZIndex+10).toString(10),";\n            width: ").concat(e,"px;\n            height: ").concat(2*t.height,"px;\n            background: linear-gradient(").concat(n,",\n                rgba(0, 0, 0, ").concat(this.shadow.opacity,") 5%,\n                rgba(0, 0, 0, 0.05) 15%,\n                rgba(0, 0, 0, ").concat(this.shadow.opacity,") 35%,\n                rgba(0, 0, 0, 0) 100%);\n            transform-origin: ").concat(i,"px 100px;\n            transform: translate3d(").concat(r.x-i,"px, ").concat(r.y-100,"px, 0) rotate(").concat(o,"rad);\n            clip-path: ").concat(a,";\n            -webkit-clip-path: ").concat(a,";\n        ");this.innerShadow.style.cssText=c}},{key:"drawOuterShadow",value:function(){for(var t=this.getRect(),e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),i=this.shadow.angle+3*Math.PI/2,n=1===this.getDirection()?this.shadow.width:0,r=0===this.getDirection()?"to right":"to left",o="polygon( ",a=0,s=[{x:0,y:0},{x:t.pageWidth,y:0},{x:t.pageWidth,y:t.height},{x:0,y:t.height}];a<s.length;a++){var h=s[a];if(null!==h){var l=1===this.getDirection()?{x:-h.x+this.shadow.pos.x,y:h.y-this.shadow.pos.y}:{x:h.x-this.shadow.pos.x,y:h.y-this.shadow.pos.y};o+=(l=d.GetRotatedPoint(l,{x:n,y:100},i)).x+"px "+l.y+"px, "}}o=o.slice(0,-2),o+=")";var u="\n            display: block;\n            z-index: ".concat((this.getSettings().startZIndex+10).toString(10),";\n            width: ").concat(this.shadow.width,"px;\n            height: ").concat(2*t.height,"px;\n            background: linear-gradient(").concat(r,", rgba(0, 0, 0, ").concat(this.shadow.opacity,"), rgba(0, 0, 0, 0));\n            transform-origin: ").concat(n,"px 100px;\n            transform: translate3d(").concat(e.x-n,"px, ").concat(e.y-100,"px, 0) rotate(").concat(i,"rad);\n            clip-path: ").concat(o,";\n            -webkit-clip-path: ").concat(o,";\n        ");this.outerShadow.style.cssText=u}},{key:"drawLeftPage",value:function(){"portrait"!==this.orientation&&null!==this.leftPage&&(1===this.direction&&null!==this.flippingPage&&"hard"===this.flippingPage.getDrawingDensity()?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}},{key:"drawRightPage",value:function(){null!==this.rightPage&&(0===this.direction&&null!==this.flippingPage&&"hard"===this.flippingPage.getDrawingDensity()?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}},{key:"drawBottomPage",value:function(){if(null!==this.bottomPage){var t=null!=this.flippingPage?this.flippingPage.getDrawingDensity():null;"portrait"===this.orientation&&1===this.direction||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(t))}}},{key:"drawFrame",value:function(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),null!=this.flippingPage&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),null!=this.shadow&&null!==this.flippingPage&&("soft"===this.flippingPage.getDrawingDensity()?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}},{key:"clear",value:function(){var t,e=o(this.app.getPageCollection().getPages());try{for(e.s();!(t=e.n()).done;){var i=t.value;i!==this.leftPage&&i!==this.rightPage&&i!==this.flippingPage&&i!==this.bottomPage&&(i.getElement().style.cssText="display: none"),i.getTemporaryCopy()!==this.flippingPage&&i.hideTemporaryCopy()}}catch(n){e.e(n)}finally{e.f()}}},{key:"update",value:function(){n(r(i.prototype),"update",this).call(this),null!==this.rightPage&&this.rightPage.setOrientation(1),null!==this.leftPage&&this.leftPage.setOrientation(0)}}]),i}(v),k=function(){function t(){h(this,t),this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}return l(t,[{key:"getSettings",value:function(t){var e=this._default;if(Object.assign(e,t),"stretch"!==e.size&&"fixed"!==e.size)throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(e.width<=0||e.height<=0)throw new Error("Invalid width or height");if(e.flippingTime<=0)throw new Error("Invalid flipping time");return"stretch"===e.size?(e.minWidth<=0&&(e.minWidth=100),e.maxWidth<e.minWidth&&(e.maxWidth=2e3),e.minHeight<=0&&(e.minHeight=100),e.maxHeight<e.minHeight&&(e.maxHeight=2e3)):(e.minWidth=e.width,e.maxWidth=e.width,e.minHeight=e.height,e.maxHeight=e.height),e}}]),t}();!function(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}(".stf__parent {\n  position: relative;\n  display: block;\n  box-sizing: border-box;\n  transform: translateZ(0);\n\n  -ms-touch-action: pan-y;\n  touch-action: pan-y;\n}\n\n.sft__wrapper {\n  position: relative;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.stf__parent canvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n\n.stf__block {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  perspective: 2000px;\n}\n\n.stf__item {\n  display: none;\n  position: absolute;\n  transform-style: preserve-3d;\n}\n\n.stf__outerShadow {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.stf__innerShadow {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.stf__hardShadow {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.stf__hardInnerShadow {\n  position: absolute;\n  left: 0;\n  top: 0;\n}"),t.PageFlip=function(t){a(i,t);var e=s(i);function i(t,n){var r;return h(this,i),(r=e.call(this)).isUserTouch=!1,r.isUserMove=!1,r.setting=null,r.pages=null,r.setting=(new k).getSettings(n),r.block=t,r}return l(i,[{key:"destroy",value:function(){this.ui.destroy(),this.block.remove()}},{key:"update",value:function(){this.render.update(),this.pages.show()}},{key:"loadFromImages",value:function(t){var e=this;this.ui=new x(this.block,this,this.setting);var i=this.ui.getCanvas();this.render=new y(this,this.setting,i),this.flipController=new w(this.render,this),this.pages=new c(this,this.render,t),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout((function(){e.ui.update(),e.trigger("init",e,{page:e.setting.startPage,mode:e.render.getOrientation()})}),1)}},{key:"loadFromHTML",value:function(t){var e=this;this.ui=new b(this.block,this,this.setting,t),this.render=new P(this,this.setting,this.ui.getDistElement()),this.flipController=new w(this.render,this),this.pages=new g(this,this.render,this.ui.getDistElement(),t),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout((function(){e.ui.update(),e.trigger("init",e,{page:e.setting.startPage,mode:e.render.getOrientation()})}),1)}},{key:"updateFromImages",value:function(t){var e=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,t),this.pages.load(),this.pages.show(e),this.trigger("update",this,{page:e,mode:this.render.getOrientation()})}},{key:"updateFromHtml",value:function(t){var e=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new g(this,this.render,this.ui.getDistElement(),t),this.pages.load(),this.ui.updateItems(t),this.render.reload(),this.pages.show(e),this.trigger("update",this,{page:e,mode:this.render.getOrientation()})}},{key:"clear",value:function(){this.pages.destroy(),this.ui.clear()}},{key:"turnToPrevPage",value:function(){this.pages.showPrev()}},{key:"turnToNextPage",value:function(){this.pages.showNext()}},{key:"turnToPage",value:function(t){this.pages.show(t)}},{key:"flipNext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top";this.flipController.flipNext(t)}},{key:"flipPrev",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top";this.flipController.flipPrev(t)}},{key:"flip",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";this.flipController.flipToPage(t,e)}},{key:"updateState",value:function(t){this.trigger("changeState",this,t)}},{key:"updatePageIndex",value:function(t){this.trigger("flip",this,t)}},{key:"updateOrientation",value:function(t){this.ui.setOrientationStyle(t),this.update(),this.trigger("changeOrientation",this,t)}},{key:"getPageCount",value:function(){return this.pages.getPageCount()}},{key:"getCurrentPageIndex",value:function(){return this.pages.getCurrentPageIndex()}},{key:"getPage",value:function(t){return this.pages.getPage(t)}},{key:"getRender",value:function(){return this.render}},{key:"getFlipController",value:function(){return this.flipController}},{key:"getOrientation",value:function(){return this.render.getOrientation()}},{key:"getBoundsRect",value:function(){return this.render.getRect()}},{key:"getSettings",value:function(){return this.setting}},{key:"getUI",value:function(){return this.ui}},{key:"getState",value:function(){return this.flipController.getState()}},{key:"getPageCollection",value:function(){return this.pages}},{key:"startUserTouch",value:function(t){this.mousePosition=t,this.isUserTouch=!0,this.isUserMove=!1}},{key:"userMove",value:function(t,e){this.isUserTouch||e||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,t)>5&&(this.isUserMove=!0,this.flipController.fold(t)):this.flipController.showCorner(t)}},{key:"userStop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isUserTouch&&(this.isUserTouch=!1,e||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(t)))}}]),i}(function(){function t(){h(this,t),this.events=new Map}return l(t,[{key:"on",value:function(t,e){return this.events.has(t)?this.events.get(t).push(e):this.events.set(t,[e]),this}},{key:"off",value:function(t){this.events.delete(t)}},{key:"trigger",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.events.has(t)){var n,r=o(this.events.get(t));try{for(r.s();!(n=r.n()).done;)(0,n.value)({data:i,object:e})}catch(a){r.e(a)}finally{r.f()}}}}]),t}()),Object.defineProperty(t,"__esModule",{value:!0})}(e)},173:function(t,e,i){"use strict";var n,r=i(2791),o=(n=r)&&"object"===typeof n&&"default"in n?n.default:n,a=i(1338),s=new a,h=s.getBrowser(),l=s.getCPU(),u=s.getDevice(),c=s.getEngine(),d=s.getOS(),p=s.getUA(),g=function(t){return s.setUA(t)},f=function(t){if(t){var e=new a(t);return{UA:e,browser:e.getBrowser(),cpu:e.getCPU(),device:e.getDevice(),engine:e.getEngine(),os:e.getOS(),ua:e.getUA(),setUserAgent:function(t){return e.setUA(t)}}}console.error("No userAgent string was provided")},w=Object.freeze({ClientUAInstance:s,browser:h,cpu:l,device:u,engine:c,os:d,ua:p,setUa:g,parseUserAgent:f});function v(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function y(t){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function x(){return x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},x.apply(this,arguments)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}function S(t,e){if(null==t)return{};var i,n,r=function(t,e){if(null==t)return{};var i,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var n,r,o=[],a=!0,s=!1;try{for(i=i.call(t);!(a=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(h){s=!0,r=h}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return T(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return T(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var _="mobile",M="tablet",O="smarttv",R="console",D="wearable",A="embedded",E=void 0,L={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},W={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},B={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},H=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return t||e},j=function(){return!("undefined"===typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},z=function(t){var e=j();return e&&e.platform&&(-1!==e.platform.indexOf(t)||"MacIntel"===e.platform&&e.maxTouchPoints>1&&!window.MSStream)},F=function(t,e,i,n){return function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach((function(e){b(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},t,{vendor:H(e.vendor),model:H(e.model),os:H(i.name),osVersion:H(i.version),ua:H(n)})};var U=function(t){return t.type===_},G=function(t){return t.type===M},q=function(t){var e=t.type;return e===_||e===M},N=function(t){return t.type===O},V=function(t){return t.type===E},Z=function(t){return t.type===D},Y=function(t){return t.type===R},X=function(t){return t.type===A},$=function(t){var e=t.vendor;return H(e)},K=function(t){var e=t.model;return H(e)},Q=function(t){var e=t.type;return H(e,"browser")},J=function(t){return t.name===W.Android},tt=function(t){return t.name===W.Windows},et=function(t){return t.name===W.MAC_OS},it=function(t){return t.name===W.WindowsPhone},nt=function(t){return t.name===W.IOS},rt=function(t){var e=t.version;return H(e)},ot=function(t){var e=t.name;return H(e)},at=function(t){return t.name===L.Chrome},st=function(t){return t.name===L.Firefox},ht=function(t){return t.name===L.Chromium},lt=function(t){return t.name===L.Edge},ut=function(t){return t.name===L.Yandex},ct=function(t){var e=t.name;return e===L.Safari||e===L.MobileSafari},dt=function(t){return t.name===L.MobileSafari},pt=function(t){return t.name===L.Opera},gt=function(t){var e=t.name;return e===L.InternetExplorer||e===L.Ie},ft=function(t){return t.name===L.MIUI},wt=function(t){return t.name===L.SamsungBrowser},vt=function(t){var e=t.version;return H(e)},yt=function(t){var e=t.major;return H(e)},mt=function(t){var e=t.name;return H(e)},bt=function(t){var e=t.name;return H(e)},xt=function(t){var e=t.version;return H(e)},Pt=function(){var t=j(),e=t&&t.userAgent&&t.userAgent.toLowerCase();return"string"===typeof e&&/electron/.test(e)},kt=function(t){return"string"===typeof t&&-1!==t.indexOf("Edg/")},St=function(){var t=j();return t&&(/iPad|iPhone|iPod/.test(t.platform)||"MacIntel"===t.platform&&t.maxTouchPoints>1)&&!window.MSStream},Ct=function(){return z("iPad")},It=function(){return z("iPhone")},Tt=function(){return z("iPod")},_t=function(t){return H(t)};function Mt(t){var e=t||w,i=e.device,n=e.browser,r=e.os,o=e.engine,a=e.ua;return{isSmartTV:N(i),isConsole:Y(i),isWearable:Z(i),isEmbedded:X(i),isMobileSafari:dt(n)||Ct(),isChromium:ht(n),isMobile:q(i)||Ct(),isMobileOnly:U(i),isTablet:G(i)||Ct(),isBrowser:V(i),isDesktop:V(i),isAndroid:J(r),isWinPhone:it(r),isIOS:nt(r)||Ct(),isChrome:at(n),isFirefox:st(n),isSafari:ct(n),isOpera:pt(n),isIE:gt(n),osVersion:rt(r),osName:ot(r),fullBrowserVersion:vt(n),browserVersion:yt(n),browserName:mt(n),mobileVendor:$(i),mobileModel:K(i),engineName:bt(o),engineVersion:xt(o),getUA:_t(a),isEdge:lt(n)||kt(a),isYandex:ut(n),deviceType:Q(i),isIOS13:St(),isIPad13:Ct(),isIPhone13:It(),isIPod13:Tt(),isElectron:Pt(),isEdgeChromium:kt(a),isLegacyEdge:lt(n)&&!kt(a),isWindows:tt(r),isMacOs:et(r),isMIUI:ft(n),isSamsungBrowser:wt(n)}}var Ot=N(u),Rt=Y(u),Dt=Z(u),At=X(u),Et=dt(h)||Ct(),Lt=ht(h),Wt=q(u)||Ct(),Bt=U(u),Ht=G(u)||Ct(),jt=V(u),zt=V(u),Ft=J(d),Ut=it(d),Gt=nt(d)||Ct(),qt=at(h),Nt=st(h),Vt=ct(h),Zt=pt(h),Yt=gt(h),Xt=rt(d),$t=ot(d),Kt=vt(h),Qt=yt(h),Jt=mt(h),te=$(u),ee=K(u),ie=bt(c),ne=xt(c),re=_t(p),oe=lt(h)||kt(p),ae=ut(h),se=Q(u),he=St(),le=Ct(),ue=It(),ce=Tt(),de=Pt(),pe=kt(p),ge=lt(h)&&!kt(p),fe=tt(d),we=et(d),ve=ft(h),ye=wt(h);function me(t){var e=t||window.navigator.userAgent;return f(e)}e.tq=Wt},9326:function(t,e,i){"use strict";var n=i(9439),r=i(2791),o=i(1719),a=r.forwardRef((function(t,e){var i=(0,r.useRef)(null),a=(0,r.useRef)([]),s=(0,r.useRef)(),h=(0,r.useState)([]),l=(0,n.Z)(h,2),u=l[0],c=l[1];(0,r.useImperativeHandle)(e,(function(){return{pageFlip:function(){return s.current}}}));var d=(0,r.useCallback)((function(){s.current&&s.current.clear()}),[]),p=(0,r.useCallback)((function(){var t=s.current;t&&(t.off("flip"),t.off("changeOrientation"),t.off("changeState"),t.off("init"),t.off("update"))}),[]);return(0,r.useEffect)((function(){if(a.current=[],t.children){var e=r.Children.map(t.children,(function(t){return r.cloneElement(t,{ref:function(t){t&&a.current.push(t)}})}));t.renderOnlyPageLengthChange&&u.length===e.length||(e.length<u.length&&d(),c(e))}}),[t.children]),(0,r.useEffect)((function(){u.length>0&&a.current.length>0&&(p(),i.current&&!s.current&&(s.current=new o.PageFlip(i.current,t)),s.current.getFlipController()?s.current.updateFromHtml(a.current):s.current.loadFromHTML(a.current),function(){var e=s.current;e&&(t.onFlip&&e.on("flip",(function(e){return t.onFlip(e)})),t.onChangeOrientation&&e.on("changeOrientation",(function(e){return t.onChangeOrientation(e)})),t.onChangeState&&e.on("changeState",(function(e){return t.onChangeState(e)})),t.onInit&&e.on("init",(function(e){return t.onInit(e)})),t.onUpdate&&e.on("update",(function(e){return t.onUpdate(e)})))}())}),[u]),r.createElement("div",{ref:i,className:t.className,style:t.style},u)})),s=r.memo(a);e.Z=s},1338:function(t,e,i){var n;!function(r,o){"use strict";var a="function",s="undefined",h="object",l="string",u="model",c="name",d="type",p="vendor",g="version",f="architecture",w="console",v="mobile",y="tablet",m="smarttv",b="wearable",x="embedded",P="Amazon",k="Apple",S="ASUS",C="BlackBerry",I="Browser",T="Chrome",_="Firefox",M="Google",O="Huawei",R="LG",D="Microsoft",A="Motorola",E="Opera",L="Samsung",W="Sharp",B="Sony",H="Xiaomi",j="Zebra",z="Facebook",F=function(t){for(var e={},i=0;i<t.length;i++)e[t[i].toUpperCase()]=t[i];return e},U=function(t,e){return typeof t===l&&-1!==G(e).indexOf(G(t))},G=function(t){return t.toLowerCase()},q=function(t,e){if(typeof t===l)return t=t.replace(/^\s\s*/,""),typeof e===s?t:t.substring(0,350)},N=function(t,e){for(var i,n,r,s,l,u,c=0;c<e.length&&!l;){var d=e[c],p=e[c+1];for(i=n=0;i<d.length&&!l;)if(l=d[i++].exec(t))for(r=0;r<p.length;r++)u=l[++n],typeof(s=p[r])===h&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):o:this[s[0]]=u?s[1].call(this,u,s[2]):o:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):o):this[s]=u||o;c+=2}},V=function(t,e){for(var i in e)if(typeof e[i]===h&&e[i].length>0){for(var n=0;n<e[i].length;n++)if(U(e[i][n],t))return"?"===i?o:i}else if(U(e[i],t))return"?"===i?o:i;return t},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,g],[/opios[\/ ]+([\w\.]+)/i],[g,[c,E+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[c,E]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[c,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[c,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[c,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[c,"IE"]],[/yabrowser\/([\w\.]+)/i],[g,[c,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+I],g],[/\bfocus\/([\w\.]+)/i],[g,[c,_+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[c,E+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[c,E+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[c,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[g,[c,_]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+I]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 "+I],g],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[c,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,z],g],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[c,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[c,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[c,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,T+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[c,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[g,V,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[c,_+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[c,g],[/(cobalt)\/([\w\.]+)/i],[c,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,G]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[p,L],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[p,L],[d,v]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[p,k],[d,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[p,k],[d,y]],[/(macintosh);/i],[u,[p,k]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[p,O],[d,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[p,O],[d,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[p,H],[d,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[p,H],[d,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[p,"OPPO"],[d,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[p,"Vivo"],[d,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[p,"Realme"],[d,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[p,A],[d,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[p,A],[d,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[p,R],[d,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[p,R],[d,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[p,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[p,"Nokia"],[d,v]],[/(pixel c)\b/i],[u,[p,M],[d,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[p,M],[d,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[p,B],[d,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[p,B],[d,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[p,"OnePlus"],[d,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[p,P],[d,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[p,P],[d,v]],[/(playbook);[-\w\),; ]+(rim)/i],[u,p,[d,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[p,C],[d,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[p,S],[d,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[p,S],[d,v]],[/(nexus 9)/i],[u,[p,"HTC"],[d,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[u,/_/g," "],[d,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[p,"Acer"],[d,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[p,"Meizu"],[d,v]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[p,W],[d,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,u,[d,v]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,u,[d,y]],[/(surface duo)/i],[u,[p,D],[d,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[p,"Fairphone"],[d,v]],[/(u304aa)/i],[u,[p,"AT&T"],[d,v]],[/\bsie-(\w*)/i],[u,[p,"Siemens"],[d,v]],[/\b(rct\w+) b/i],[u,[p,"RCA"],[d,y]],[/\b(venue[\d ]{2,7}) b/i],[u,[p,"Dell"],[d,y]],[/\b(q(?:mv|ta)\w+) b/i],[u,[p,"Verizon"],[d,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[p,"Barnes & Noble"],[d,y]],[/\b(tm\d{3}\w+) b/i],[u,[p,"NuVision"],[d,y]],[/\b(k88) b/i],[u,[p,"ZTE"],[d,y]],[/\b(nx\d{3}j) b/i],[u,[p,"ZTE"],[d,v]],[/\b(gen\d{3}) b.+49h/i],[u,[p,"Swiss"],[d,v]],[/\b(zur\d{3}) b/i],[u,[p,"Swiss"],[d,y]],[/\b((zeki)?tb.*\b) b/i],[u,[p,"Zeki"],[d,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],u,[d,y]],[/\b(ns-?\w{0,9}) b/i],[u,[p,"Insignia"],[d,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[p,"NextBook"],[d,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],u,[d,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],u,[d,v]],[/\b(ph-1) /i],[u,[p,"Essential"],[d,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[p,"Envizen"],[d,y]],[/\b(trio[-\w\. ]+) b/i],[u,[p,"MachSpeed"],[d,y]],[/\btu_(1491) b/i],[u,[p,"Rotor"],[d,y]],[/(shield[\w ]+) b/i],[u,[p,"Nvidia"],[d,y]],[/(sprint) (\w+)/i],[p,u,[d,v]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[p,D],[d,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[p,j],[d,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[p,j],[d,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,u,[d,w]],[/droid.+; (shield) bui/i],[u,[p,"Nvidia"],[d,w]],[/(playstation [345portablevi]+)/i],[u,[p,B],[d,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[p,D],[d,w]],[/smart-tv.+(samsung)/i],[p,[d,m]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[p,L],[d,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,R],[d,m]],[/(apple) ?tv/i],[p,[u,k+" TV"],[d,m]],[/crkey/i],[[u,T+"cast"],[p,M],[d,m]],[/droid.+aft(\w)( bui|\))/i],[u,[p,P],[d,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[p,W],[d,m]],[/(bravia[\w ]+)( bui|\))/i],[u,[p,B],[d,m]],[/(mitv-\w{5}) bui/i],[u,[p,H],[d,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,q],[u,q],[d,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,m]],[/((pebble))app/i],[p,u,[d,b]],[/droid.+; (glass) \d/i],[u,[p,M],[d,b]],[/droid.+; (wt63?0{2,3})\)/i],[u,[p,j],[d,b]],[/(quest( 2)?)/i],[u,[p,z],[d,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[d,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[d,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[d,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,v]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[c,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[c,[g,V,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[c,"Windows"],[g,V,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,"Mac OS"],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,g],[/\(bb(10);/i],[g,[c,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[c,_+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[c,"webOS"]],[/crkey\/([\d\.]+)/i],[g,[c,T+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[c,"Chromium OS"],g],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,g],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[c,g]]},X=function t(e,i){if(typeof e===h&&(i=e,e=o),!(this instanceof t))return new t(e,i).getResult();var n=e||(typeof r!==s&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),a=i?function(t,e){var i={};for(var n in t)e[n]&&e[n].length%2===0?i[n]=e[n].concat(t[n]):i[n]=t[n];return i}(Y,i):Y;return this.getBrowser=function(){var t,e={};return e[c]=o,e[g]=o,N.call(e,n,a.browser),e.major=typeof(t=e.version)===l?t.replace(/[^\d\.]/g,"").split(".")[0]:o,e},this.getCPU=function(){var t={};return t[f]=o,N.call(t,n,a.cpu),t},this.getDevice=function(){var t={};return t[p]=o,t[u]=o,t[d]=o,N.call(t,n,a.device),t},this.getEngine=function(){var t={};return t[c]=o,t[g]=o,N.call(t,n,a.engine),t},this.getOS=function(){var t={};return t[c]=o,t[g]=o,N.call(t,n,a.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(t){return n=typeof t===l&&t.length>350?q(t,350):t,this},this.setUA(n),this};X.VERSION="0.7.33",X.BROWSER=F([c,g,"major"]),X.CPU=F([f]),X.DEVICE=F([u,p,d,w,v,m,y,b,x]),X.ENGINE=X.OS=F([c,g]),typeof e!==s?(t.exports&&(e=t.exports=X),e.UAParser=X):i.amdO?(n=function(){return X}.call(e,i,e,t))===o||(t.exports=n):typeof r!==s&&(r.UAParser=X);var $=typeof r!==s&&(r.jQuery||r.Zepto);if($&&!$.ua){var K=new X;$.ua=K.getResult(),$.ua.get=function(){return K.getUA()},$.ua.set=function(t){K.setUA(t);var e=K.getResult();for(var i in e)$.ua[i]=e[i]}}}("object"===typeof window?window:this)},3897:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n},t.exports.__esModule=!0,t.exports.default=t.exports},6115:function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},6690:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},9728:function(t,e,i){var n=i(4062);function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}t.exports=function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},4704:function(t,e,i){var n=i(6116);t.exports=function(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=n(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,h=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){h=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(h)throw a}}}},t.exports.__esModule=!0,t.exports.default=t.exports},6389:function(t,e,i){var n=i(3808),r=i(9617),o=i(4993);t.exports=function(t){var e=r();return function(){var i,r=n(t);if(e){var a=n(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return o(this,i)}},t.exports.__esModule=!0,t.exports.default=t.exports},1588:function(t,e,i){var n=i(1753);function r(){return"undefined"!==typeof Reflect&&Reflect.get?(t.exports=r=Reflect.get.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=r=function(t,e,i){var r=n(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:i):o.value}},t.exports.__esModule=!0,t.exports.default=t.exports),r.apply(this,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},3808:function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},1655:function(t,e,i){var n=i(6015);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},9617:function(t){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},4993:function(t,e,i){var n=i(8698).default,r=i(6115);t.exports=function(t,e){if(e&&("object"===n(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},6015:function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},1753:function(t,e,i){var n=i(3808);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},5036:function(t,e,i){var n=i(8698).default;t.exports=function(t,e){if("object"!==n(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},4062:function(t,e,i){var n=i(8698).default,r=i(5036);t.exports=function(t){var e=r(t,"string");return"symbol"===n(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},8698:function(t){function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},6116:function(t,e,i){var n=i(3897);t.exports=function(t,e){if(t){if("string"===typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}}]);
//# sourceMappingURL=474.5c79a5e5.chunk.js.map