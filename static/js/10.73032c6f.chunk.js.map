{"version":3,"file":"static/js/10.73032c6f.chunk.js","mappings":"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","sources":["pages/Slides.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport HTMLFlipBook from \"react-pageflip\";\r\nimport { isMobile } from \"react-device-detect\";\r\nimport useStore from \"../data/Store\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useParams } from \"react-router-dom\";\r\n//import { useNavigate } from \"react-router-dom\";\r\n\r\nvar jsonData = require(\"../data/pages.json\");\r\n\r\nfunction Slides() {\r\n  const { header } = useStore();\r\n  const { id } = useParams();\r\n  const _isMobile = isMobile && window.innerHeight > window.innerWidth ;\r\n\r\n  //const navigate = useNavigate();\r\n  //navigate(path, { replace: true });\r\n  const book = useRef();\r\n  let h = window.innerHeight - 100 - (header ? 75 : 0);\r\n  let w = h * 0.707; //;window.innerWidth;\r\n\r\n  if (_isMobile) {\r\n    w = window.innerWidth;\r\n    h = w * 1.414;\r\n  }\r\n  const magData = jsonData.filter((x) => x.id === parseInt(id))[0];\r\n\r\n  const setMenuOpen = useStore((s) => s.setMenuOpen);\r\n  const [mode, setMode] = useState(\"light\");\r\n  const onSelectMode = (mode) => {\r\n    setMode(mode);\r\n    if (mode === \"dark\") document.body.classList.add(\"dark-mode\");\r\n    else document.body.classList.remove(\"dark-mode\");\r\n  };\r\n\r\n  window.addEventListener(\"resize\", handleResize);\r\n\r\n  useEffect(() => {\r\n    window\r\n      .matchMedia(\"(prefers-color-scheme: dark)\")\r\n      .addEventListener(\"change\", (e) =>\r\n        onSelectMode(e.matches ? \"dark\" : \"light\")\r\n      );\r\n    onSelectMode(\r\n      window.matchMedia(\"(prefers-color-scheme: dark)\").matches\r\n        ? \"dark\"\r\n        : \"light\"\r\n    );\r\n    return () => {\r\n      window\r\n        .matchMedia(\"(prefers-color-scheme: dark)\")\r\n        .removeEventListener(\"change\", () => {});\r\n    };\r\n  }, []);\r\n\r\n  function handleResize() {\r\n    document.location.reload();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        className=\"menu-bar\"\r\n        initial={{ opacity: 0, y: -100 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.5 }}\r\n      >\r\n        <span\r\n          className=\"menu-button\"\r\n          onClick={() => {\r\n            setMenuOpen(true);\r\n          }}\r\n        >\r\n          Table of Contents\r\n        </span>\r\n        <span\r\n          id=\"bb-nav-prev\"\r\n          onClick={() => {\r\n            book.current.pageFlip().flipPrev();\r\n          }}\r\n        >\r\n          ←\r\n        </span>\r\n        <span\r\n          id=\"bb-nav-next\"\r\n          onClick={() => {\r\n            book.current.pageFlip().flipNext();\r\n          }}\r\n        >\r\n          →\r\n        </span>\r\n        <a href=\"https://zanjan.mcth.ir/\" target=\"_blank\" rel=\"noreferrer\">\r\n          وب سایت\r\n        </a>\r\n        <span>\r\n          {mode === \"dark\" ? (\r\n            <svg\r\n              className={\"icons\"}\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width={20}\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"rgb(var(--text-color))\"\r\n              onClick={() => onSelectMode(\"light\")}\r\n            >\r\n              <rect fill=\"none\" />\r\n              <path d=\"M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z\" />\r\n            </svg>\r\n          ) : (\r\n            <svg\r\n              className={\"icons\"}\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width={20}\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"rgb(var(--text-color))\"\r\n              onClick={() => onSelectMode(\"dark\")}\r\n            >\r\n              <rect fill=\"none\" height=\"24\" width=\"24\" />\r\n              <path d=\"M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z\" />\r\n            </svg>\r\n          )}\r\n        </span>\r\n        <h5 className=\"menu-bar-logo\">\r\n          اداره کل میراث فرهنگی،گردشگری و صنایع دستی استان زنجان\r\n        </h5>\r\n      </motion.div>\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.5, y: -100 }}\r\n        animate={{ opacity: 1, scale: 1, y: 0 }}\r\n        transition={{ duration: 0.5 }}\r\n      >\r\n        <HTMLFlipBook\r\n          ref={book}\r\n          width={w}\r\n          startPage={magData.slides - 1}\r\n          height={h}\r\n          maxShadowOpacity={0.5}\r\n          showCover={true}\r\n          mobileScrollSupport={true}\r\n          drawShadow={false}\r\n          flippingTime={_isMobile ? 50 : 500}\r\n          usePortrait={_isMobile ? true : false}\r\n          className=\"demo-block flip-book html-book\"\r\n        >\r\n          {getSlides(magData)}\r\n        </HTMLFlipBook>\r\n      </motion.div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction getSlides(mag) {\r\n  const slides = [];\r\n  for (let i = mag.slides; i > 0; i--) {\r\n    const bgImg = `${mag.path}/${i}.jpg`;\r\n    //console.log(bgImg)\r\n    slides.push(\r\n      <div className=\"page page-cover\" key={i}>\r\n        <div className=\"gradient\"></div>\r\n        <div\r\n          className=\"page-content\"\r\n          style={{\r\n            backgroundImage: `url(${bgImg})`,\r\n            color: \"red\",\r\n            backgroundRepeat: \"no-repeat\",\r\n          }}\r\n        >\r\n          {i === mag.slides && mag.link !== \"\" && (\r\n            <>\r\n              <a\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n                className=\"slide-map\"\r\n                href={mag.map}\r\n              >\r\n                Visit\r\n              </a>\r\n              <a\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n                className=\"slide-link\"\r\n                href={mag.link}\r\n              >\r\n                Visit\r\n              </a>\r\n            </>\r\n          )}\r\n          <div className=\"page-footer\">{i}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return slides;\r\n}\r\n\r\nexport default Slides;\r\n"],"names":["jsonData","require","getSlides","mag","slides","i","bgImg","path","push","className","style","backgroundImage","color","backgroundRepeat","link","target","rel","href","map","header","useStore","id","useParams","_isMobile","isMobile","window","innerHeight","innerWidth","book","useRef","h","w","magData","filter","x","parseInt","setMenuOpen","s","useState","mode","setMode","onSelectMode","document","body","classList","add","remove","addEventListener","location","reload","useEffect","matchMedia","e","matches","removeEventListener","initial","opacity","y","animate","transition","duration","onClick","current","pageFlip","flipPrev","flipNext","xmlns","width","viewBox","fill","d","height","scale","ref","startPage","maxShadowOpacity","showCover","mobileScrollSupport","drawShadow","flippingTime","usePortrait"],"sourceRoot":""}